<div class="login-page d-flex justify-content-center align-items-center">
  <div class="login-container shadow p-4" *ngIf="!loading">
    
    <div class="text-center mb-3">
      <div class="welcome-icon">
        <mat-icon class="mat-icon-lg">event</mat-icon>
      </div>
      <h1 class="welcome-title">Login</h1>
    </div>

    <p class="text-center text-muted mb-3">
      Por favor, inicia sesión para acceder al sistema.
    </p>

    <!-- Formulario  -->
    <form (ngSubmit)="onSubmit()" [formGroup]="loginForm">

      <mat-form-field class="w-100 mb-2">
        <mat-label>Correo electrónico</mat-label>
        <input matInput placeholder="usuario@example.com" formControlName="email" (blur)="updateEmailErrorMessage()" required />
        <mat-error *ngIf="email?.invalid && email?.touched">{{ emailErrorMessage }}</mat-error>
      </mat-form-field>

      <mat-form-field class="w-100 mb-2">
        <mat-label>Contraseña</mat-label>
        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" (blur)="updatePasswordErrorMessage()" required />
        <mat-error *ngIf="password?.invalid && password?.touched">{{ passwordErrorMessage }}</mat-error>
        <button mat-icon-button matSuffix (click)="togglePasswordVisibility($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>

      <button mat-raised-button type="submit" class="login-button w-100" style="margin-bottom: 0px;">
        Iniciar sesión
      </button>

      <!-- contraseña olvidada -->
      <div class="text-center mt-3">
        <a href="javascript:void(0);" class="text-muted" (click)="openDialog()">¿Olvidaste tu contraseña?</a>
      </div>

      <div class="text-center mt-3" style="margin-top: 50px;">
        <p class="mt-3" style="display: inline; margin-right: 5px;">¿No tienes una cuenta?</p>
        <a href="/register" class="text-rose" style="display: inline;">Registrarse</a>
      </div>

    </form>
  </div>

  <app-spinner *ngIf="loading"></app-spinner>

</div>
  
